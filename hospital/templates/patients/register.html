{% extends 'hospital/base.html' %}
{% block title %}Patient Registration - MedVita{% endblock %}
{% block content %}
<div style="background:linear-gradient(135deg,#e0f5f5 0%,var(--cream) 100%);padding:60px 0;">
  <div class="container">
    <div style="background:var(--white);border-radius:20px;box-shadow:var(--shadow-lg);padding:48px;max-width:560px;width:100%;margin:0 auto;">
      <div style="text-align:center;margin-bottom:36px;">
        <div style="font-size:3rem;margin-bottom:12px;">&#128100;</div>
        <h2 style="color:var(--navy);margin-bottom:6px;">Create Your Account</h2>
        <p>Join MedVita for seamless healthcare management</p>
      </div>
      <form method="post" id="registerForm">
        {% csrf_token %}
        <div class="grid-2" style="gap:16px;">
          <div class="form-group"><label>First Name *</label><input type="text" name="first_name" class="form-control" placeholder="John" required></div>
          <div class="form-group"><label>Last Name *</label><input type="text" name="last_name" class="form-control" placeholder="Doe" required></div>
        </div>
        <div class="form-group"><label>Email Address *</label><input type="email" name="email" class="form-control" placeholder="john@example.com" required></div>
        <div class="form-group"><label>Phone Number</label><input type="tel" name="phone" class="form-control" placeholder="+1 (555) 000-0000"></div>
        <div class="grid-2" style="gap:16px;">
          <div class="form-group"><label>Date of Birth</label><input type="date" name="date_of_birth" class="form-control"></div>
          <div class="form-group"><label>Gender</label><select name="gender" class="form-control"><option value="">Select gender</option><option value="M">Male</option><option value="F">Female</option><option value="O">Other</option></select></div>
        </div>
        <div class="form-group"><label>Password *</label><input type="password" name="password" id="password" class="form-control" placeholder="Minimum 8 characters" required minlength="8"><div id="strengthBar" style="height:4px;border-radius:2px;margin-top:6px;background:var(--gray-200);transition:var(--transition);"></div></div>
        <div class="form-group"><label>Confirm Password *</label><input type="password" name="confirm_password" id="confirm_password" class="form-control" placeholder="Repeat password" required></div>
        <div style="margin-bottom:20px;font-size:14px;">
          <label style="display:flex;align-items:flex-start;gap:10px;cursor:pointer;font-weight:400;line-height:1.5;">
            <input type="checkbox" required style="margin-top:3px;">
            I agree to the <a href="#" style="color:var(--teal);">Terms of Service</a> and <a href="#" style="color:var(--teal);">Privacy Policy</a>
          </label>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%;justify-content:center;font-size:16px;padding:16px;">Create Account</button>
      </form>
      <p style="text-align:center;font-size:15px;color:var(--gray-600);margin-top:20px;">Already have an account? <a href="/patients/login/" style="color:var(--teal);font-weight:600;">Login here</a></p>
    </div>
  </div>
</div>
{% endblock %}
{% block extra_js %}
<script>
document.getElementById("password").addEventListener("input", function() {
  var pass = this.value, strength = 0;
  if (pass.length >= 8) strength++;
  if (/[A-Z]/.test(pass)) strength++;
  if (/[0-9]/.test(pass)) strength++;
  if (/[^A-Za-z0-9]/.test(pass)) strength++;
  var bar = document.getElementById("strengthBar");
  var colors = ["","#e74c3c","#f39c12","#27ae60","#0f8a8a"];
  var widths = ["0%","25%","50%","75%","100%"];
  bar.style.background = colors[strength];
  bar.style.width = widths[strength];
});
document.getElementById("registerForm").addEventListener("submit", function(e) {
  if (document.getElementById("password").value !== document.getElementById("confirm_password").value) {
    e.preventDefault(); alert("Passwords do not match!");
  }
});
</script>
{% endblock %}
